<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Print Charges – Light Blue Theme</title>
<style>
:root{
  --blue-50:#f0f9ff;
  --blue-100:#e0f2fe;
  --blue-200:#bae6fd;
  --blue-300:#7dd3fc;
  --blue-400:#38bdf8;
  --blue-500:#0ea5e9;
  --blue-600:#0284c7;
  --ink:#0f172a;
  --muted:#64748b;
}
*{box-sizing:border-box}
body{
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg,var(--blue-50),#ffffff);
  margin:0;
  padding:5px;
  color:var(--ink);
}
.wrapper{
  margin:0; 
  display:grid;
  /* MODIFIED: Card 6 (Other Charges) is now position 1 (1.3fr) and Card 1 (Print Charges) is now position 6 (1fr). */
  grid-template-columns:1.2fr 2.2fr 0.7fr 0.45fr 0.45fr 0.9fr; 
  gap:6px;
}
.container{
  margin-bottom:2px;
  background:#ffffff;
  border-radius:10px;
  padding:5px;
  box-shadow:0 10px 24px rgba(2,132,199,.15);
  border:1px solid var(--blue-200);
}
/* PATCH: make Card 2 wider */
.wrapper > .container:nth-child(2){
  /* Width handled by grid column setting */
}
/* REMOVED PATCH: The last child (now Card 1 content) gets its width from the main grid template. */
/* .wrapper > .container:last-child {
    grid-column: span 1; 
    justify-self: stretch; 
} */

label{
  font-size:13px;
  color:var(--muted);
}
input{
  width:100%;
  padding:5px;
  font-size:15px;
  margin-top:4px;
  margin-bottom:6px;
  border-radius:8px;
  border:2px solid var(--blue-200);
  outline:none;
}
.readonly{ background:#f8fafc; }
.total{
  font-size:26px;
  font-weight:bold;
  text-align:center;
  margin:8px 0;
  color:var(--blue-600);
}
button{
  width:100%;
  padding:9px;
  font-size:15px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
.reset{
  background:#ef4444;
  color:#fff;
}
.booklet-row{
  display:grid;
  grid-template-columns:22px 1fr;
  align-items:center;
  gap:6px;
}
.booklet-row input[type="checkbox"]{ transform:scale(1.2); }
.slab-table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
  font-size:13px;
}
.slab-table th,.slab-table td{
  border:1px solid var(--blue-200);
  padding:5px;
  text-align:center;
}
.slab-table th{ background:var(--blue-100); }
.slab-active{
  background:#a7f3d0!important; /* CHANGED to light green */
  font-weight:bold;
}
.calc-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0 2px;
  margin-top:8px;
}
.calc-row{
  background:var(--blue-50);
  border-radius:10px;
  box-shadow:0 6px 16px rgba(2,132,199,.12);
}
.calc-row td{ padding:12px; }
.calc-input{
  font-size:16px;
  text-align:center;
  border-radius:10px;
  border:2px solid var(--blue-200);
}
.calc-symbol{
  font-size:20px;
  font-weight:bold;
  color:var(--blue-600);
  text-align:center;
}
.amount{
  font-size:18px;
  font-weight:bold;
  color:#16a34a;
  text-align:center;
}
.calc-total{
  margin-top:8px;
  padding:12px;
  background:linear-gradient(135deg,var(--blue-100),var(--blue-200));
  border-radius:12px;
  font-size:20px;
  text-align:right;
}
.balance-box{
  margin-top:2px;
  padding:5px;
  background:linear-gradient(135deg,var(--blue-100),var(--blue-200));
  border-radius:16px;
}
.balance-row{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:6px;
}
.balance-value{
  font-size:24px;
  font-weight:bold;
  background:var(--blue-400);
  color:#ffffff;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
}
/* Style for Other Charges Table */
#other-charges-table .calc-row td:first-child{
    padding-left:15px;
    font-size:15px;
    font-weight:bold;
    color:var(--blue-600);
}
#other-charges-table input{
    text-align: left;
    padding-left: 10px;
    font-weight: bold;
}
@media(max-width:1100px){ /* Updated breakpoint to 1100px */
  .wrapper{ grid-template-columns:1fr; }
  /* Remove specific widths on mobile */
  .wrapper > .container:nth-child(2){ max-width:initial; }
  /* .wrapper > .container:last-child {
      max-width: initial;
      grid-column: span 1;
      justify-self: stretch;
  } */
}
@media(min-width:1100px){ /* Added media query for desktop to ensure proper 6-column display */
    /* MODIFIED: Applied the new fractional layout for swapped cards */
    grid-template-columns:1.2fr 1.7fr 0.7fr 0.7fr 0.7fr 1.3fr;
}

/* Remove number input arrows (clean POS look) */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button{
  -webkit-appearance: none;
  margin: 0;
}
input[type=number]{
  -moz-appearance: textfield;
}


html, body{
  height:100%;
  overflow:hidden;
}

.wrapper{
  height:100vh;
  transform-origin: top center;
}

/* PATCH: reduce width of Card 4 and Card 5 */
.wrapper > .container:nth-child(4),
.wrapper > .container:nth-child(5){
  max-width: 140px;
  justify-self: center;
}

</style>

</head>
<body>

<div class="wrapper">
  <div class="container">
    <h3 style="margin:4px 0 8px;text-align:center;color:var(--blue-600);line-height:1.2;">
      Other Charges
    </h3>

    <table class="calc-table" id="other-charges-table">
        <tr class="calc-row">
            <td>TAX</td>
            <td><input class="calc-input" type="number" oninput="calcOtherTotal()"></td>
        </tr>
        <tr class="calc-row">
            <td>FINE</td>
            <td><input class="calc-input" type="number" oninput="calcOtherTotal()"></td>
        </tr>
        <tr class="calc-row">
            <td>VEHICLE TAX</td>
            <td><input class="calc-input" type="number" oninput="calcOtherTotal()"></td>
        </tr>
        <tr class="calc-row">
            <td>FEES</td>
            <td><input class="calc-input" type="number" oninput="calcOtherTotal()"></td>
        </tr>
        <tr class="calc-row">
            <td id="scanningLabel">SCANNING</td>
            <td><input class="calc-input" type="number" oninput="calcOtherTotal()"></td>
        </tr>
        </table>

    <div style="
        margin-top:10px;
        padding:10px;
        background:linear-gradient(135deg,var(--blue-100),var(--blue-200));
        border-radius:12px;
        font-size:20px;
        font-weight:bold;
        text-align:center;">
        Total: ₹ <span id="otherTotal">0.00</span>
    </div>
  </div>
  
  <div class="container">
    <div class="balance-box">
      <h3 style="margin:4px 0 6px;text-align:center;color:var(--blue-600);">Balance</h3>
      <div class="balance-row">
        <input type="number" placeholder="Bill" id="balAmount" oninput="calcBalance()">
        <input type="number" placeholder="Cash" id="balCash" oninput="calcBalance()">
        <div class="balance-value">₹ <span id="balResult">0</span></div>
      </div>
    </div>

    <table class="calc-table">
      <tr class="calc-row">
        <td><input class="calc-input" type="number" oninput="calcRow(this)"></td>
        <td class="calc-symbol">×</td>
        <td><input class="calc-input" type="number" oninput="calcRow(this)"></td>
        <td class="calc-symbol">=</td>
        <td class="amount">0</td>
      </tr>
      <tr class="calc-row">
        <td><input class="calc-input" type="number" oninput="calcRow(this)"></td>
        <td class="calc-symbol">×</td>
        <td><input class="calc-input" type="number" oninput="calcRow(this)"></td>
        <td class="calc-symbol">=</td>
        <td class="amount">0</td>
      </tr>
      <tr class="calc-row">
        <td><input class="calc-input" type="number" oninput="calcRow(this)"></td>
        <td class="calc-symbol">×</td>
        <td><input class="calc-input" type="number" oninput="calcRow(this)"></td>
        <td class="calc-symbol">=</td>
        <td class="amount">0</td>
      </tr>
    </table>

    <div class="calc-total">
      Total: ₹ <span id="calcTotal">0</span>
    </div>

    <!-- Bottom Balance Checker (Copy) -->
    <div class="balance-box" style="margin-top:36px;">
      <h3 style="margin:4px 0 6px;text-align:center;color:var(--blue-600);">
        Balance
      </h3>
      <div class="balance-row">
        <input type="number" placeholder="Bill" id="balAmount2" oninput="calcBalance2()">
        <input type="number" placeholder="Cash" id="balCash2" oninput="calcBalance2()">
        <div class="balance-value">₹ <span id="balResult2">0</span></div>
      </div>
    </div>
  </div>

  <div class="container">
    <h3 style="margin:4px 0 8px;text-align:center;color:var(--blue-600);">
      1
    </h3>

    <div id="pdf-pages-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
      <input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
<input type="number" oninput="calcPdfTotal()">
    </div>

    <div style="
      margin-top:10px;
      padding:10px;
      background:linear-gradient(135deg,var(--blue-100),var(--blue-200));
      border-radius:12px;
      font-size:20px;
      font-weight:bold;
      text-align:center;">
      Total: <span id="pdfTotal"></span>
    </div>
  </div>


  <div class="container">
    <h3 style="margin:4px 0 8px;text-align:center;color:var(--blue-600);line-height:1.2;">
      <div>2</div>
    </h3>

    <div class="pdf-copy-grid" style="display:grid;grid-template-columns:1fr;gap:8px;">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
      <input type="number" oninput="calcPdfTotalCopy()">
    </div>

    <div style="
      margin-top:10px;
      padding:10px;
      background:linear-gradient(135deg,var(--blue-100),var(--blue-200));
      border-radius:12px;
      font-size:20px;
      font-weight:bold;
      text-align:center;">
      Total: <span id="pdfTotalCopy"></span>
    </div>
  </div>


  <div class="container">
    <h3 style="margin:4px 0 8px;text-align:center;color:var(--blue-600);line-height:1.2;">
      <div>3</div>
    </h3>

    <div class="pdf-copy-grid-2" style="display:grid;grid-template-columns:1fr;gap:8px;">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
      <input type="number" oninput="calcPdfTotalCopy2()">
    </div>

    <div style="
      margin-top:10px;
      padding:10px;
      background:linear-gradient(135deg,var(--blue-100),var(--blue-200));
      border-radius:12px;
      font-size:20px;
      font-weight:bold;
      text-align:center;">
      Total: <span id="pdfTotalCopy2"></span>
    </div>
  </div>

  <div class="container">
    <label><strong>Total Pages</strong></label>
    <input type="number" id="totalPages">

    <label>Number of Pages</label>
    <input type="number" id="pages">

    <label>Booklet</label>
    <div class="booklet-row">
      <input type="checkbox" id="booklet">
      <input type="number" id="bookletPages" disabled>
    </div>

    <label>Rate (₹ per page)</label>
    <input type="text" id="rate" class="readonly" readonly>

    <table class="slab-table" id="slabTable">
      <tr><th>Range</th><th>Rate (₹)</th></tr>
      <tr data-min="0" data-max="14"><td>Below 15</td><td>5</td></tr>
      <tr data-min="15" data-max="40"><td>15 – 40</td><td>4</td></tr>
      <tr data-min="41" data-max="100"><td>40 – 100</td><td>3.5</td></tr>
      <tr data-min="101" data-max="250"><td>100 – 250</td><td>3</td></tr>
      <tr data-min="251"><td>Above 250</td><td>2.5</td></tr>
    </table>

    <div class="total">₹ <span id="total">0</span></div>
  </div>
  
  <button class="reset" onclick="resetDay()" style="grid-column: span 6; margin-top: 6px;">
    RESET ALL DATA
  </button>
  
  </div>

<script>
function getRate(p){
  if(p<15) return 5;
  if(p<=40) return 4;
  if(p<=100) return 3.5;
  if(p<=250) return 3;
  return 2.5;
}

// All elements accessed directly in resetDay must be defined globally for proper execution flow
const booklet=document.getElementById('booklet');
const bookletPages=document.getElementById('bookletPages');
const pages=document.getElementById('pages');
const totalPages=document.getElementById('totalPages');
const rate=document.getElementById('rate');
const total=document.getElementById('total');
const balAmount = document.getElementById('balAmount'); 
const balCash = document.getElementById('balCash');     
const balResult = document.getElementById('balResult'); 

booklet.addEventListener('change',()=>{
  bookletPages.disabled=!booklet.checked;
  pages.readOnly=booklet.checked;
  bookletPages.value=''; pages.value=''; totalPages.value=''; updateCalc();
});

bookletPages.addEventListener('input',updateCalc);
pages.addEventListener('input',updateCalc);
totalPages.addEventListener('input',()=>{
  const tp=parseInt(totalPages.value);
  if(tp>0){ pages.value=Math.ceil(tp/2); }
  updateCalc();
});

function updateCalc(){
  let p=0;
  if(booklet.checked){
    const bp=parseInt(bookletPages.value);
    if(bp>0){ p=Math.ceil(bp/4); pages.value=p; } else { pages.value=''; }
  } else {
    p=parseInt(pages.value);
  }
  if(!p||p<=0){ rate.value=''; total.textContent='0'; return; }
  const r=getRate(p);
  rate.value=r;
  total.textContent=(p*r).toFixed(2);
  highlightSlab(p);
}

function calcRow(el){
  const row=el.closest('tr');
  const inputs=row.querySelectorAll('input');
  const a=parseFloat(inputs[0].value)||0;
  const b=parseFloat(inputs[1].value)||0;
  row.querySelector('.amount').textContent=(a*b).toFixed(2);
  calcTotal();
}

function calcTotal(){
  let t=0;
  document.querySelectorAll('.amount').forEach(x=>t+=parseFloat(x.textContent)||0);
  document.getElementById('calcTotal').textContent=t.toFixed(2);
}

function calcBalance(){
  const a=parseFloat(balAmount.value)||0;
  const c=parseFloat(balCash.value)||0;
  balResult.textContent=(a-c).toFixed(2);
}

function calcBalance2(){
  const a=parseFloat(document.getElementById('balAmount2').value)||0;
  const c=parseFloat(document.getElementById('balCash2').value)||0;
  document.getElementById('balResult2').textContent=(a-c).toFixed(2);
}

/**
 * Resets all input fields and all displayed total/calculated values across the page.
 */
function resetDay(){
  // 1. CLEAR ALL INPUTS (text, number, and uncheck checkbox)
  document.querySelectorAll('input').forEach(i=>{
    if(i.type==='checkbox'){
      i.checked=false;
    }
    i.value='';
  });

  // 2. RESET PRINT CHARGES UI (Card 6)
  bookletPages.disabled=true;
  pages.readOnly=false;
  document.querySelectorAll('#slabTable tr').forEach(r=>r.classList.remove('slab-active'));
  total.textContent='0'; 
  
  // 3. RESET CALCULATOR TOTALS (Card 2)
  document.querySelectorAll('.amount').forEach(a=>a.textContent='0'); // Individual row results
  document.getElementById('calcTotal').textContent='0';               // Grand total

  // 4. RESET BALANCE (Card 2)
  balResult.textContent='0';
  document.getElementById('balResult2').textContent='0'; 

  // 5. RESET PDF TOTALS (Card 3, 4, 5)
  document.getElementById('pdfTotal').textContent = ''; 
  document.getElementById('pdfTotalCopy').textContent = ''; 
  document.getElementById('pdfTotalCopy2').textContent = '';
  
  // 6. RESET OTHER CHARGES TOTAL (Card 1)
  document.getElementById('otherTotal').textContent = '0.00';
}

function highlightSlab(p){
  document.querySelectorAll('#slabTable tr').forEach(row=>{
    row.classList.remove('slab-active');
    const min=parseInt(row.dataset.min);
    const max=parseInt(row.dataset.max);
    if(!isNaN(min)&&((isNaN(max)&&p>=min)||(p>=min&&p<=max))){
      row.classList.add('slab-active');
    }
  });
}

function calcPdfTotal(){
  let sum = 0;
  document.querySelectorAll('#pdf-pages-grid input').forEach(i=>{
    sum += parseFloat(i.value) || 0;
  });
  document.getElementById('pdfTotal').textContent = sum ? sum : '';
}


function calcPdfTotalCopy(){
  let sum = 0;
  document.querySelectorAll('.pdf-copy-grid input').forEach(i=>{
    sum += parseFloat(i.value) || 0;
  });
  document.getElementById('pdfTotalCopy').textContent = sum ? sum : '';
}

// NEW FUNCTION for the copied card
function calcPdfTotalCopy2(){
  let sum = 0;
  document.querySelectorAll('.pdf-copy-grid-2 input').forEach(i=>{
    sum += parseFloat(i.value) || 0;
  });
  document.getElementById('pdfTotalCopy2').textContent = sum ? sum : '';
}

// NEW FUNCTION for Other Charges
function calcOtherTotal(){
  const inputs = document.querySelectorAll('#other-charges-table input');

  const tax         = parseFloat(inputs[0].value) || 0;
  const fine        = parseFloat(inputs[1].value) || 0;
  const vehicleTax  = parseFloat(inputs[2].value) || 0;
  const feesInput   = parseFloat(inputs[3].value) || 0;

  // FEES panel logic: FEES + 2%
  const feesWithPanel = feesInput + (feesInput * 2 / 100);

  const scanningQty = parseFloat(inputs[4].value) || 0;
  const scanningLabel = document.getElementById('scanningLabel');

  let scanning = 0;
  if (scanningQty > 0) {
    if (scanningQty < 15) {
      scanning = scanningQty * 7;
      scanningLabel.textContent = 'SCANNING (₹7/page)';
    } else {
      scanning = scanningQty * 5;
      scanningLabel.textContent = 'SCANNING (₹5/page)';
    }
  } else {
    scanningLabel.textContent = 'SCANNING';
  }

  const total =
    tax +
    fine +
    vehicleTax +
    feesWithPanel +
    scanning;

  document.getElementById('otherTotal').textContent = total.toFixed(2);
}


function enableAutoNext(selector, delayMs=600){
  const inputs = document.querySelectorAll(selector + ' input');
  inputs.forEach((inp, idx) => {
    let t = null;
    inp.addEventListener('input', () => {
      if (t) clearTimeout(t);
      if (inp.value !== '' && idx < inputs.length - 1) {
        t = setTimeout(() => {
          inputs[idx + 1].focus();
        }, delayMs);
      }
    });
    inp.addEventListener('blur', () => { if (t) clearTimeout(t); });
  });
}

document.addEventListener('DOMContentLoaded', () => {
  enableAutoNext('#pdf-pages-grid', 1500);      // Card 3
  enableAutoNext('.pdf-copy-grid', 1500);       // Card 4
  enableAutoNext('.pdf-copy-grid-2', 1500);     // Card 5
  // You might want to enable AutoNext for Other Charges too
  // enableAutoNext('#other-charges-table', 1500);
});

</script>



<script>
function fitToScreen(){
  const wrapper = document.querySelector('.wrapper');
  if(!wrapper) return;
  const scale = window.innerHeight / wrapper.scrollHeight;
  wrapper.style.transform = scale < 1 ? `scale(${scale})` : 'scale(1)';
}
window.addEventListener('load', fitToScreen);
window.addEventListener('resize', fitToScreen);
</script>
</body>


</html>